<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gajare Photography - Through The Lens</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            cursor: none;
        }

        :root {
            --noir: #0a0a0a;
            --charcoal: #1a1a1a;
            --gold: #d4af37;
            --soft-gold: #f4e4c1;
            --neon-accent: #ff00ff;
            --exposure: 1;
        }

        body {
            background: var(--noir);
            color: var(--soft-gold);
            font-family: 'Helvetica Neue', sans-serif;
            overflow-x: hidden;
            position: relative;
        }

        /* Custom Lens Cursor */
        #lens-cursor {
            position: fixed;
            width: 120px;
            height: 120px;
            border: 2px solid var(--gold);
            border-radius: 50%;
            pointer-events: none;
            z-index: 10000;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            mix-blend-mode: difference;
            backdrop-filter: blur(2px);
        }

        #lens-cursor::before {
            content: '';
            position: absolute;
            inset: 10px;
            border: 1px solid var(--gold);
            border-radius: 50%;
            opacity: 0.5;
        }

        #lens-cursor::after {
            content: '';
            position: absolute;
            inset: 20px;
            border: 1px solid var(--gold);
            border-radius: 50%;
            opacity: 0.3;
        }

        #lens-cursor.focusing {
            width: 80px;
            height: 80px;
            border-width: 3px;
        }

        /* Aperture Blades */
        .aperture-blade {
            position: absolute;
            width: 40px;
            height: 2px;
            background: var(--gold);
            top: 50%;
            left: 50%;
            transform-origin: center;
            opacity: 0.6;
        }

        /* Film Grain Overlay */
        #film-grain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.03;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48ZmlsdGVyIGlkPSJub2lzZSI+PGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuOSIgbnVtT2N0YXZlcz0iNCIgLz48L2ZpbHRlcj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWx0ZXI9InVybCgjbm9pc2UpIiBvcGFjaXR5PSIxIi8+PC9zdmc+');
        }

        /* Cinematic Loading Screen */
        #loading-screen {
            position: fixed;
            inset: 0;
            background: var(--noir);
            z-index: 100000;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 1s, visibility 1s;
        }

        .film-countdown {
            font-size: 200px;
            font-weight: 100;
            color: var(--gold);
            animation: countdown 0.8s infinite;
            text-shadow: 0 0 50px var(--gold);
        }

        @keyframes countdown {
            0%, 100% { opacity: 0.2; transform: scale(0.9); }
            50% { opacity: 1; transform: scale(1); }
        }

        /* Main Viewport - Camera Viewfinder */
        #viewfinder {
            position: relative;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            perspective: 2000px;
        }

        .viewfinder-corners {
            position: fixed;
            inset: 20px;
            pointer-events: none;
            z-index: 100;
        }

        .corner {
            position: absolute;
            width: 40px;
            height: 40px;
            border: 2px solid var(--gold);
            opacity: 0.3;
        }

        .corner.tl { top: 0; left: 0; border-right: none; border-bottom: none; }
        .corner.tr { top: 0; right: 0; border-left: none; border-bottom: none; }
        .corner.bl { bottom: 0; left: 0; border-right: none; border-top: none; }
        .corner.br { bottom: 0; right: 0; border-left: none; border-top: none; }

        /* Hero Section - Living Lens */
        #hero-lens {
            position: relative;
            width: 80vw;
            height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lens-iris {
            position: absolute;
            width: 500px;
            height: 500px;
            border-radius: 50%;
            background: radial-gradient(circle at center, 
                transparent 30%, 
                var(--charcoal) 31%, 
                var(--charcoal) 32%, 
                transparent 33%,
                transparent 45%,
                var(--charcoal) 46%,
                var(--charcoal) 47%,
                transparent 48%,
                transparent 60%,
                var(--charcoal) 61%,
                var(--charcoal) 62%,
                transparent 63%
            );
            animation: iris-breathe 8s infinite ease-in-out;
            filter: drop-shadow(0 0 50px rgba(212, 175, 55, 0.3));
        }

        @keyframes iris-breathe {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.1) rotate(180deg); }
        }

        .brand-title {
            position: absolute;
            font-size: clamp(2rem, 8vw, 6rem);
            font-weight: 100;
            letter-spacing: 0.3em;
            text-transform: uppercase;
            background: linear-gradient(45deg, var(--gold), var(--soft-gold), var(--gold));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmer 3s infinite;
            text-align: center;
        }

        @keyframes shimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .tagline {
            position: absolute;
            bottom: -50px;
            font-size: 1rem;
            letter-spacing: 0.5em;
            opacity: 0.6;
            text-transform: uppercase;
        }

        /* Film Strip Navigation */
        #film-strip {
            position: fixed;
            right: 50px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
        }

        .film-frame {
            width: 60px;
            height: 40px;
            margin: 20px 0;
            background: var(--charcoal);
            border: 2px solid var(--gold);
            position: relative;
            cursor: none;
            transition: all 0.3s;
            overflow: hidden;
        }

        .film-frame::before,
        .film-frame::after {
            content: '';
            position: absolute;
            width: 8px;
            height: 8px;
            background: var(--noir);
            border: 1px solid var(--gold);
            top: 50%;
            transform: translateY(-50%);
        }

        .film-frame::before { left: -4px; }
        .film-frame::after { right: -4px; }

        .film-frame:hover {
            transform: scale(1.2);
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.5);
        }

        .film-frame.active {
            background: var(--gold);
        }

        /* Spherical Gallery */
        #gallery-sphere {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: none;
            align-items: center;
            justify-content: center;
            transform-style: preserve-3d;
        }

        .sphere-container {
            width: 600px;
            height: 600px;
            position: relative;
            transform-style: preserve-3d;
            animation: sphere-rotate 30s infinite linear;
        }

        @keyframes sphere-rotate {
            from { transform: rotateY(0deg) rotateX(0deg); }
            to { transform: rotateY(360deg) rotateX(360deg); }
        }

        .photo-node {
            position: absolute;
            width: 150px;
            height: 100px;
            background: linear-gradient(135deg, var(--charcoal), var(--noir));
            border: 1px solid var(--gold);
            transform-style: preserve-3d;
            transition: all 0.5s;
            overflow: hidden;
        }

        .photo-node:hover {
            transform: scale(1.5) translateZ(100px);
            box-shadow: 0 0 50px var(--gold);
            z-index: 100;
        }

        .photo-node img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.8;
            transition: opacity 0.3s;
        }

        .photo-node:hover img {
            opacity: 1;
        }

        /* Liquid Morphing Services */
        #services-liquid {
            position: relative;
            width: 100vw;
            min-height: 100vh;
            display: none;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .liquid-blob {
            position: absolute;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, var(--gold), transparent);
            border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%;
            animation: morph 8s ease-in-out infinite;
            filter: blur(20px);
            opacity: 0.3;
        }

        @keyframes morph {
            0%, 100% {
                border-radius: 40% 60% 70% 30% / 40% 50% 60% 50%;
                transform: translate(0, 0) scale(1);
            }
            33% {
                border-radius: 70% 30% 50% 50% / 30% 30% 70% 70%;
                transform: translate(50px, -50px) scale(1.1);
            }
            66% {
                border-radius: 30% 70% 50% 50% / 50% 70% 30% 70%;
                transform: translate(-50px, 50px) scale(0.9);
            }
        }

        .service-card {
            position: relative;
            width: 250px;
            height: 350px;
            margin: 20px;
            background: rgba(26, 26, 26, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid var(--gold);
            padding: 30px;
            display: inline-block;
            transform: skewY(-5deg);
            transition: all 0.5s;
            overflow: hidden;
        }

        .service-card:hover {
            transform: skewY(0deg) scale(1.1);
            box-shadow: 0 20px 50px rgba(212, 175, 55, 0.3);
        }

        .service-card h3 {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--gold);
        }

        .service-card p {
            opacity: 0.8;
            line-height: 1.6;
        }

        /* Timeline About Section */
        #timeline-about {
            position: relative;
            width: 100vw;
            min-height: 100vh;
            display: none;
            overflow: hidden;
            perspective: 1000px;
        }

        .film-strip-timeline {
            position: absolute;
            width: 200%;
            height: 200px;
            background: repeating-linear-gradient(
                90deg,
                var(--charcoal) 0,
                var(--charcoal) 50px,
                var(--noir) 50px,
                var(--noir) 100px
            );
            transform: rotateX(60deg) rotateZ(45deg);
            animation: film-scroll 20s linear infinite;
        }

        @keyframes film-scroll {
            from { transform: rotateX(60deg) rotateZ(45deg) translateX(0); }
            to { transform: rotateX(60deg) rotateZ(45deg) translateX(-50%); }
        }

        .timeline-moment {
            position: absolute;
            width: 300px;
            padding: 30px;
            background: rgba(26, 26, 26, 0.9);
            backdrop-filter: blur(10px);
            border-left: 3px solid var(--gold);
            transform: translateZ(0);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) translateZ(0); }
            50% { transform: translateY(-20px) translateZ(50px); }
        }

        /* Cinematic Light Box Contact */
        #contact-lightbox {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .lightbox-container {
            width: 500px;
            padding: 50px;
            background: radial-gradient(ellipse at center, 
                rgba(212, 175, 55, 0.1), 
                transparent 70%);
            border: 1px solid var(--gold);
            position: relative;
            animation: glow-pulse 3s ease-in-out infinite;
        }

        @keyframes glow-pulse {
            0%, 100% { box-shadow: 0 0 30px rgba(212, 175, 55, 0.3); }
            50% { box-shadow: 0 0 60px rgba(212, 175, 55, 0.6); }
        }

        .lightbox-container input,
        .lightbox-container textarea {
            width: 100%;
            background: transparent;
            border: none;
            border-bottom: 1px solid var(--gold);
            color: var(--soft-gold);
            padding: 15px 0;
            margin: 20px 0;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s;
        }

        .lightbox-container input:focus,
        .lightbox-container textarea:focus {
            border-bottom-color: var(--soft-gold);
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.3);
        }

        .submit-ray {
            background: linear-gradient(45deg, var(--gold), transparent);
            border: 1px solid var(--gold);
            color: var(--noir);
            padding: 15px 40px;
            font-size: 1rem;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            cursor: none;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .submit-ray:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px var(--gold);
        }

        /* Mode Toggle */
        #mode-toggle {
            position: fixed;
            top: 30px;
            left: 30px;
            z-index: 10000;
            display: flex;
            gap: 10px;
        }

        .mode-btn {
            padding: 10px 20px;
            background: rgba(26, 26, 26, 0.8);
            border: 1px solid var(--gold);
            color: var(--gold);
            cursor: none;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-size: 0.8rem;
        }

        .mode-btn:hover,
        .mode-btn.active {
            background: var(--gold);
            color: var(--noir);
        }

        /* Cinema Mode Filter */
        body.cinema-mode {
            filter: grayscale(100%) contrast(1.2);
        }

        body.cinema-mode .film-grain {
            opacity: 0.08;
        }

        /* Professional Mode */
        body.professional-mode #hero-lens,
        body.professional-mode .liquid-blob,
        body.professional-mode .lens-iris {
            display: none;
        }

        body.professional-mode {
            background: white;
            color: #333;
        }

        body.professional-mode .service-card,
        body.professional-mode .timeline-moment {
            transform: none;
            animation: none;
            background: white;
            border: 1px solid #ddd;
            color: #333;
        }

        /* Shutter Transition */
        .shutter-transition {
            position: fixed;
            inset: 0;
            background: var(--noir);
            z-index: 50000;
            transform: scaleY(0);
            transform-origin: center;
            transition: transform 0.3s cubic-bezier(0.86, 0, 0.07, 1);
        }

        .shutter-transition.active {
            transform: scaleY(1);
        }

        /* Responsive Magic */
        @media (max-width: 768px) {
            .lens-iris {
                width: 300px;
                height: 300px;
            }

            #film-strip {
                right: 20px;
            }

            .film-frame {
                width: 40px;
                height: 30px;
            }

            .service-card {
                width: 80vw;
                transform: none;
            }
        }

        /* Light Leak Effects */
        .light-leak {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0;
            background: radial-gradient(circle at var(--x, 50%) var(--y, 50%), 
                rgba(255, 255, 255, 0.1), 
                transparent 40%);
            transition: opacity 0.5s;
        }

        .light-leak.active {
            opacity: 1;
        }

        /* Sound Toggle */
        #sound-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            border: 2px solid var(--gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: none;
            transition: all 0.3s;
            z-index: 10000;
        }

        #sound-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px var(--gold);
        }

        #sound-toggle.muted::after {
            content: 'ðŸ”‡';
            font-size: 20px;
        }

        #sound-toggle:not(.muted)::after {
            content: 'ðŸ”Š';
            font-size: 20px;
        }
    </style>
</head>
<body>
    <!-- Film Grain Overlay -->
    <div id="film-grain"></div>

    <!-- Custom Lens Cursor -->
    <div id="lens-cursor">
        <div class="aperture-blade" style="transform: rotate(0deg) translateX(-20px);"></div>
        <div class="aperture-blade" style="transform: rotate(60deg) translateX(-20px);"></div>
        <div class="aperture-blade" style="transform: rotate(120deg) translateX(-20px);"></div>
        <div class="aperture-blade" style="transform: rotate(180deg) translateX(-20px);"></div>
        <div class="aperture-blade" style="transform: rotate(240deg) translateX(-20px);"></div>
        <div class="aperture-blade" style="transform: rotate(300deg) translateX(-20px);"></div>
    </div>

    <!-- Light Leak Effect -->
    <div class="light-leak"></div>

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="film-countdown">3</div>
    </div>

    <!-- Shutter Transition -->
    <div class="shutter-transition"></div>

    <!-- Mode Toggle -->
    <div id="mode-toggle">
        <button class="mode-btn active" data-mode="gallery">Gallery</button>
        <button class="mode-btn" data-mode="professional">Professional</button>
        <button class="mode-btn" data-mode="cinema">Cinema</button>
    </div>

    <!-- Sound Toggle -->
    <div id="sound-toggle" class="muted"></div>

    <!-- Viewfinder Corners -->
    <div class="viewfinder-corners">
        <div class="corner tl"></div>
        <div class="corner tr"></div>
        <div class="corner bl"></div>
        <div class="corner br"></div>
    </div>

    <!-- Film Strip Navigation -->
    <div id="film-strip">
        <div class="film-frame active" data-section="hero"></div>
        <div class="film-frame" data-section="gallery"></div>
        <div class="film-frame" data-section="services"></div>
        <div class="film-frame" data-section="about"></div>
        <div class="film-frame" data-section="contact"></div>
    </div>

    <!-- Main Viewfinder -->
    <div id="viewfinder">
        <!-- Hero Lens Section -->
        <div id="hero-lens">
            <div class="lens-iris"></div>
            <div class="brand-title">GAJARE</div>
            <div class="tagline">Through The Lens</div>
        </div>
    </div>

    <!-- Spherical Gallery -->
    <div id="gallery-sphere">
        <div class="sphere-container">
            <!-- Dynamically positioned photo nodes -->
        </div>
    </div>

    <!-- Liquid Services -->
    <div id="services-liquid">
        <div class="liquid-blob"></div>
        <div class="liquid-blob" style="animation-delay: -2s; left: 20%; top: 30%;"></div>
        <div class="liquid-blob" style="animation-delay: -4s; right: 20%; bottom: 30%;"></div>
        
        <div class="service-card">
            <h3>WEDDINGS</h3>
            <p>Capturing eternal moments through cinematic storytelling. Every frame a masterpiece.</p>
        </div>
        
        <div class="service-card">
            <h3>PORTRAITS</h3>
            <p>Revealing souls through light and shadow. Timeless elegance in every shot.</p>
        </div>
        
        <div class="service-card">
            <h3>EVENTS</h3>
            <p>Documenting life's celebrations with artistic vision and technical precision.</p>
        </div>
    </div>

    <!-- Timeline About -->
    <div id="timeline-about">
        <div class="film-strip-timeline"></div>
        
        <div class="timeline-moment" style="top: 20%; left: 10%;">
            <h3>2015</h3>
            <p>The journey begins with a single camera and infinite passion.</p>
        </div>
        
        <div class="timeline-moment" style="top: 40%; right: 20%; animation-delay: -2s;">
            <h3>2018</h3>
            <p>International recognition. Boundaries dissolve through the lens.</p>
        </div>
        
        <div class="timeline-moment" style="bottom: 30%; left: 30%; animation-delay: -4s;">
            <h3>2024</h3>
            <p>Redefining visual storytelling. Every frame speaks volumes.</p>
        </div>
    </div>

    <!-- Contact Lightbox -->
    <div id="contact-lightbox">
        <div class="lightbox-container">
            <h2 style="text-align: center; margin-bottom: 30px; letter-spacing: 0.3em;">DROP A MESSAGE</h2>
            <input type="text" placeholder="YOUR NAME" />
            <input type="email" placeholder="EMAIL" />
            <textarea rows="4" placeholder="YOUR VISION"></textarea>
            <button class="submit-ray">SEND INTO THE LIGHT</button>
        </div>
    </div>

    <script>
        // Custom Lens Cursor
        const cursor = document.getElementById('lens-cursor');
        const lightLeak = document.querySelector('.light-leak');
        let mouseX = 0, mouseY = 0;
        let cursorX = 0, cursorY = 0;

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
            
            // Light leak effect
            lightLeak.style.setProperty('--x', (e.clientX / window.innerWidth * 100) + '%');
            lightLeak.style.setProperty('--y', (e.clientY / window.innerHeight * 100) + '%');
        });

        // Smooth cursor animation
        function animateCursor() {
            cursorX += (mouseX - cursorX) * 0.1;
            cursorY += (mouseY - cursorY) * 0.1;
            
            cursor.style.left = cursorX - 60 + 'px';
            cursor.style.top = cursorY - 60 + 'px';
            
            requestAnimationFrame(animateCursor);
        }
        animateCursor();

        // Interactive elements focus effect
        document.addEventListener('mousedown', () => {
            cursor.classList.add('focusing');
            if (!soundMuted) playShutterSound();
        });

        document.addEventListener('mouseup', () => {
            cursor.classList.remove('focusing');
        });

        // Loading countdown
        const loadingScreen = document.getElementById('loading-screen');
        const countdown = document.querySelector('.film-countdown');
        let count = 3;

        const countInterval = setInterval(() => {
            count--;
            if (count > 0) {
                countdown.textContent = count;
            } else {
                countdown.textContent = 'ACTION';
                setTimeout(() => {
                    loadingScreen.style.opacity = '0';
                    loadingScreen.style.visibility = 'hidden';
                    initializeExperience();
                }, 500);
                clearInterval(countInterval);
            }
        }, 800);

        // Initialize the experience
        function initializeExperience() {
            generateSphereGallery();
            initializeNavigation();
            initializeModes();
            initializeSoundSystem();
            startLightLeaks();
        }

        // Generate 3D sphere gallery
        function generateSphereGallery() {
            const sphere = document.querySelector('.sphere-container');
            const photoCount = 12;
            
            for (let i = 0; i < photoCount; i++) {
                const node = document.createElement('div');
                node.className = 'photo-node';
                
                // Calculate spherical positions
                const phi = Math.acos(-1 + (2 * i) / photoCount);
                const theta = Math.sqrt(photoCount * Math.PI) * phi;
                
                const x = 300 * Math.cos(theta) * Math.sin(phi);
                const y = 300 * Math.sin(theta) * Math.sin(phi);
                const z = 300 * Math.cos(phi);
                
                node.style.transform = `translate3d(${x}px, ${y}px, ${z}px) rotateY(${theta}rad) rotateX(${phi}rad)`;
                
                // Placeholder image
                const img = document.createElement('img');
                img.src = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTUwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzFhMWExYSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmaWxsPSIjZDRhZjM3IiBmb250LXNpemU9IjE0IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+UEhPVE8gJHtpICsgMX08L3RleHQ+PC9zdmc+`;
                node.appendChild(img);
                
                sphere.appendChild(node);
            }
        }

        // Navigation system
        function initializeNavigation() {
            const frames = document.querySelectorAll('.film-frame');
            const sections = {
                hero: document.getElementById('viewfinder'),
                gallery: document.getElementById('gallery-sphere'),
                services: document.getElementById('services-liquid'),
                about: document.getElementById('timeline-about'),
                contact: document.getElementById('contact-lightbox')
            };
            
            let currentSection = 'hero';
            
            frames.forEach(frame => {
                frame.addEventListener('click', () => {
                    const targetSection = frame.dataset.section;
                    if (targetSection === currentSection) return;
                    
                    // Shutter transition
                    const shutter = document.querySelector('.shutter-transition');
                    shutter.classList.add('active');
                    
                    setTimeout(() => {
                        // Hide all sections
                        Object.values(sections).forEach(section => {
                            section.style.display = 'none';
                        });
                        
                        // Show target section
                        sections[targetSection].style.display = targetSection === 'hero' ? 'flex' : 
                                                               targetSection === 'gallery' ? 'flex' :
                                                               targetSection === 'services' ? 'flex' :
                                                               targetSection === 'about' ? 'block' :
                                                               'flex';
                        
                        // Update active frame
                        frames.forEach(f => f.classList.remove('active'));
                        frame.classList.add('active');
                        
                        currentSection = targetSection;
                        shutter.classList.remove('active');
                    }, 300);
                });
            });
            
            // Scroll-based navigation
            let lastScrollTime = 0;
            document.addEventListener('wheel', (e) => {
                const now = Date.now();
                if (now - lastScrollTime < 1000) return;
                lastScrollTime = now;
                
                const sectionOrder = ['hero', 'gallery', 'services', 'about', 'contact'];
                const currentIndex = sectionOrder.indexOf(currentSection);
                
                if (e.deltaY > 0 && currentIndex < sectionOrder.length - 1) {
                    // Scroll down
                    frames[currentIndex + 1].click();
                } else if (e.deltaY < 0 && currentIndex > 0) {
                    // Scroll up
                    frames[currentIndex - 1].click();
                }
            });
        }

        // Mode system
        function initializeModes() {
            const modeButtons = document.querySelectorAll('.mode-btn');
            
            modeButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const mode = btn.dataset.mode;
                    
                    // Remove all mode classes
                    document.body.classList.remove('cinema-mode', 'professional-mode');
                    modeButtons.forEach(b => b.classList.remove('active'));
                    
                    // Apply selected mode
                    btn.classList.add('active');
                    
                    if (mode === 'cinema') {
                        document.body.classList.add('cinema-mode');
                    } else if (mode === 'professional') {
                        document.body.classList.add('professional-mode');
                    }
                    
                    // Regenerate gallery for fresh layout
                    if (mode === 'gallery') {
                        randomizeGalleryLayout();
                    }
                });
            });
        }

        // Sound system
        let soundMuted = true;
        const audioContext = typeof AudioContext !== 'undefined' ? new AudioContext() : null;
        
        function initializeSoundSystem() {
            const soundToggle = document.getElementById('sound-toggle');
            
            soundToggle.addEventListener('click', () => {
                soundMuted = !soundMuted;
                soundToggle.classList.toggle('muted');
                
                if (!soundMuted && audioContext) {
                    playAmbientSound();
                }
            });
        }

        function playShutterSound() {
            if (!audioContext || soundMuted) return;
            
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.type = 'sawtooth';
            oscillator.frequency.setValueAtTime(100, audioContext.currentTime);
            oscillator.frequency.exponentialRampToValueAtTime(50, audioContext.currentTime + 0.1);
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.1);
        }

        function playAmbientSound() {
            if (!audioContext || soundMuted) return;
            
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            const filter = audioContext.createBiquadFilter();
            
            oscillator.connect(filter);
            filter.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(60, audioContext.currentTime);
            
            filter.type = 'lowpass';
            filter.frequency.setValueAtTime(100, audioContext.currentTime);
            
            gainNode.gain.setValueAtTime(0.02, audioContext.currentTime);
            
            oscillator.start();
            
            // Stop after 10 seconds
            setTimeout(() => {
                gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 1);
                setTimeout(() => oscillator.stop(), 1000);
            }, 10000);
        }

        // Light leak system
        function startLightLeaks() {
            setInterval(() => {
                const lightLeak = document.querySelector('.light-leak');
                lightLeak.classList.add('active');
                
                setTimeout(() => {
                    lightLeak.classList.remove('active');
                }, 2000);
            }, 8000);
        }

        // Randomize gallery layout
        function randomizeGalleryLayout() {
            const nodes = document.querySelectorAll('.photo-node');
            nodes.forEach((node, i) => {
                const randomRadius = 250 + Math.random() * 100;
                const phi = Math.acos(-1 + (2 * i) / nodes.length);
                const theta = Math.sqrt(nodes.length * Math.PI) * phi + Math.random() * 0.5;
                
                const x = randomRadius * Math.cos(theta) * Math.sin(phi);
                const y = randomRadius * Math.sin(theta) * Math.sin(phi);
                const z = randomRadius * Math.cos(phi);
                
                node.style.transform = `translate3d(${x}px, ${y}px, ${z}px) rotateY(${theta}rad) rotateX(${phi}rad)`;
            });
        }

        // Interactive photo reactions
        document.addEventListener('mousemove', (e) => {
            const photos = document.querySelectorAll('.photo-node');
            photos.forEach(photo => {
                const rect = photo.getBoundingClientRect();
                const photoX = rect.left + rect.width / 2;
                const photoY = rect.top + rect.height / 2;
                
                const distance = Math.sqrt(
                    Math.pow(e.clientX - photoX, 2) + 
                    Math.pow(e.clientY - photoY, 2)
                );
                
                if (distance < 200) {
                    const intensity = 1 - (distance / 200);
                    photo.style.filter = `brightness(${1 + intensity * 0.5}) contrast(${1 + intensity * 0.2})`;
                } else {
                    photo.style.filter = '';
                }
            });
        });

        // Parallax depth on mouse move
        document.addEventListener('mousemove', (e) => {
            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 2;
            const moveX = (e.clientX - centerX) / centerX;
            const moveY = (e.clientY - centerY) / centerY;
            
            const sphere = document.querySelector('.sphere-container');
            if (sphere && document.getElementById('gallery-sphere').style.display === 'flex') {
                sphere.style.transform = `rotateY(${moveX * 20}deg) rotateX(${-moveY * 20}deg)`;
            }
            
            const lensIris = document.querySelector('.lens-iris');
            if (lensIris) {
                lensIris.style.transform = `scale(${1 + Math.abs(moveX) * 0.1}) rotate(${moveX * 30}deg)`;
            }
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            const frames = document.querySelectorAll('.film-frame');
            const activeFrame = document.querySelector('.film-frame.active');
            const activeIndex = Array.from(frames).indexOf(activeFrame);
            
            if (e.key === 'ArrowDown' && activeIndex < frames.length - 1) {
                frames[activeIndex + 1].click();
            } else if (e.key === 'ArrowUp' && activeIndex > 0) {
                frames[activeIndex - 1].click();
            } else if (e.key === 'Escape') {
                frames[0].click(); // Return to hero
            }
        });

        // Touch support for mobile
        let touchStartY = 0;
        document.addEventListener('touchstart', (e) => {
            touchStartY = e.touches[0].clientY;
        });

        document.addEventListener('touchend', (e) => {
            const touchEndY = e.changedTouches[0].clientY;
            const diff = touchStartY - touchEndY;
            
            if (Math.abs(diff) > 50) {
                const event = new WheelEvent('wheel', {
                    deltaY: diff > 0 ? 100 : -100
                });
                document.dispatchEvent(event);
            }
        });

        // Dynamic exposure based on section
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    document.documentElement.style.setProperty('--exposure', entry.target.dataset.exposure || '1');
                }
            });
        });

        // Generative photo arrangements
        function generatePhotoArrangement() {
            const arrangements = ['spiral', 'grid', 'chaos', 'wave'];
            const selected = arrangements[Math.floor(Math.random() * arrangements.length)];
            
            const nodes = document.querySelectorAll('.photo-node');
            
            switch(selected) {
                case 'spiral':
                    nodes.forEach((node, i) => {
                        const angle = i * 0.5;
                        const radius = 100 + i * 20;
                        const x = radius * Math.cos(angle);
                        const y = radius * Math.sin(angle);
                        const z = i * 10;
                        node.style.transform = `translate3d(${x}px, ${y}px, ${z}px)`;
                    });
                    break;
                    
                case 'chaos':
                    nodes.forEach(node => {
                        const x = (Math.random() - 0.5) * 600;
                        const y = (Math.random() - 0.5) * 600;
                        const z = Math.random() * 300;
                        node.style.transform = `translate3d(${x}px, ${y}px, ${z}px) rotateZ(${Math.random() * 360}deg)`;
                    });
                    break;
            }
        }

        // Initialize on page refresh
        setInterval(() => {
            if (document.getElementById('gallery-sphere').style.display === 'flex') {
                generatePhotoArrangement();
            }
        }, 30000);

        // Performance optimization
        const perfObserver = new PerformanceObserver((list) => {
            for (const entry of list.getEntries()) {
                if (entry.duration > 100) {
                    console.log('Performance warning:', entry.name, entry.duration);
                }
            }
        });
        
        if (typeof PerformanceObserver !== 'undefined') {
            perfObserver.observe({ entryTypes: ['measure'] });
        }

        // Easter egg: Konami code for special effects
        const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
        let konamiIndex = 0;
        
        document.addEventListener('keydown', (e) => {
            if (e.key === konamiCode[konamiIndex]) {
                konamiIndex++;
                if (konamiIndex === konamiCode.length) {
                    activateSpecialMode();
                    konamiIndex = 0;
                }
            } else {
                konamiIndex = 0;
            }
        });

        function activateSpecialMode() {
            document.body.style.animation = 'hue-rotate 2s linear infinite';
            const style = document.createElement('style');
            style.textContent = '@keyframes hue-rotate { from { filter: hue-rotate(0deg); } to { filter: hue-rotate(360deg); } }';
            document.head.appendChild(style);
            
            setTimeout(() => {
                document.body.style.animation = '';
                style.remove();
            }, 10000);
        }
    </script>
</body>
</html>